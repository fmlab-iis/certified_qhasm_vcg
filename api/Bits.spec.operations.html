<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Bits.spec.operations</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Bits.spec.operations</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">mathcomp.ssreflect.ssreflect</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Bits.spec.spec.html#"><span class="id" title="library">spec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Prenex</span> <span class="id" title="var">Implicits</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> <span class="id" title="var">x</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="incB"><span class="id" title="definition">incB</span></a> {<span class="id" title="var">n</span>} : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">is</span> <span class="id" title="var">n</span><span class="id" title="notation">.+1</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">p</span>,<span class="id" title="var">b</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#incB"><span class="id" title="definition">incB</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Bits.spec.spec.html#86ba2f07607ac3462c48af8ca4653d64"><span class="id" title="notation">nilB</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="decB"><span class="id" title="definition">decB</span></a> {<span class="id" title="var">n</span>} : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">is</span> <span class="id" title="var">_</span><span class="id" title="notation">.+1</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">p</span>,<span class="id" title="var">b</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#decB"><span class="id" title="definition">decB</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Bits.spec.spec.html#86ba2f07607ac3462c48af8ca4653d64"><span class="id" title="notation">nilB</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="liftUnOp"><span class="id" title="definition">liftUnOp</span></a> {<span class="id" title="var">n</span>} <span class="id" title="var">op</span> (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>): <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> := <span class="id" title="definition">map_tuple</span> <a class="idref" href="Bits.spec.operations.html#op"><span class="id" title="variable">op</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="liftBinOp"><span class="id" title="definition">liftBinOp</span></a> {<span class="id" title="var">n</span>} <span class="id" title="var">op</span> (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_tuple</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">pair</span> ⇒ <a class="idref" href="Bits.spec.operations.html#op"><span class="id" title="variable">op</span></a> <a class="idref" href="Bits.spec.operations.html#pair"><span class="id" title="variable">pair</span></a><span class="id" title="notation">.1</span> <a class="idref" href="Bits.spec.operations.html#pair"><span class="id" title="variable">pair</span></a><span class="id" title="notation">.2</span>) (<span class="id" title="definition">zip_tuple</span> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="invB"><span class="id" title="definition">invB</span></a> {<span class="id" title="var">n</span>} := <a class="idref" href="Bits.spec.operations.html#liftUnOp"><span class="id" title="definition">liftUnOp</span></a> (<span class="id" title="var">n</span>:=<a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="andB"><span class="id" title="definition">andB</span></a> {<span class="id" title="var">n</span>} := <a class="idref" href="Bits.spec.operations.html#liftBinOp"><span class="id" title="definition">liftBinOp</span></a> (<span class="id" title="var">n</span>:=<a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="orB"><span class="id" title="definition">orB</span></a>  {<span class="id" title="var">n</span>} := <a class="idref" href="Bits.spec.operations.html#liftBinOp"><span class="id" title="definition">liftBinOp</span></a> (<span class="id" title="var">n</span>:=<a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#orb"><span class="id" title="definition">orb</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="xorB"><span class="id" title="definition">xorB</span></a> {<span class="id" title="var">n</span>} := <a class="idref" href="Bits.spec.operations.html#liftBinOp"><span class="id" title="definition">liftBinOp</span></a> (<span class="id" title="var">n</span>:=<a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#xorb"><span class="id" title="definition">xorb</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="negB"><span class="id" title="definition">negB</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) := <a class="idref" href="Bits.spec.operations.html#incB"><span class="id" title="definition">incB</span></a> (<a class="idref" href="Bits.spec.operations.html#invB"><span class="id" title="definition">invB</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fullAdder"><span class="id" title="definition">fullAdder</span></a> <span class="id" title="var">carry</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Bits.spec.operations.html#carry"><span class="id" title="variable">carry</span></a>, <a class="idref" href="Bits.spec.operations.html#b1"><span class="id" title="variable">b1</span></a>, <a class="idref" href="Bits.spec.operations.html#b2"><span class="id" title="variable">b2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="adcBmain"><span class="id" title="definition">adcBmain</span></a> <span class="id" title="var">n</span> <span class="id" title="var">carry</span> : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">is</span> <span class="id" title="var">_</span><span class="id" title="notation">.+1</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">p1</span>,<span class="id" title="var">b1</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a>) <span class="id" title="keyword">in</span> <span class="id" title="keyword">let</span> (<span class="id" title="var">p2</span>,<span class="id" title="var">b2</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">carry'</span>,<span class="id" title="var">b</span>) := <a class="idref" href="Bits.spec.operations.html#fullAdder"><span class="id" title="definition">fullAdder</span></a> <a class="idref" href="Bits.spec.operations.html#carry"><span class="id" title="variable">carry</span></a> <a class="idref" href="Bits.spec.operations.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Bits.spec.operations.html#b2"><span class="id" title="variable">b2</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#adcBmain"><span class="id" title="definition">adcBmain</span></a> <a class="idref" href="Bits.spec.operations.html#carry'"><span class="id" title="variable">carry'</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Bits.spec.operations.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Bits.spec.spec.html#singleBit"><span class="id" title="definition">singleBit</span></a> <a class="idref" href="Bits.spec.operations.html#carry"><span class="id" title="variable">carry</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="adcB"><span class="id" title="definition">adcB</span></a> {<span class="id" title="var">n</span>} <span class="id" title="var">carry</span> (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) := <a class="idref" href="Bits.spec.spec.html#splitmsb"><span class="id" title="definition">splitmsb</span></a> (<a class="idref" href="Bits.spec.operations.html#adcBmain"><span class="id" title="definition">adcBmain</span></a> <a class="idref" href="Bits.spec.operations.html#carry"><span class="id" title="variable">carry</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="carry_addB"><span class="id" title="abbreviation">carry_addB</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> := <span class="id" title="notation">(</span><a class="idref" href="Bits.spec.operations.html#adcB"><span class="id" title="definition">adcB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span><span class="id" title="notation">).1</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="addB"><span class="id" title="abbreviation">addB</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> := <span class="id" title="notation">(</span><a class="idref" href="Bits.spec.operations.html#adcB"><span class="id" title="definition">adcB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span><span class="id" title="notation">).2</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="1c42a6168440dbe06c607b5fd00b7d32"><span class="id" title="notation">&quot;</span></a>@ 'addB' n" := (<span class="id" title="keyword">fun</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Bits.spec.operations.html#addB"><span class="id" title="abbreviation">addB</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">n</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 8, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">fun_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Don't ever simpl adcB 
</div>
<div class="code">
<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="Bits.spec.operations.html#adcB"><span class="id" title="definition">adcB</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="addBovf"><span class="id" title="definition">addBovf</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#carry_addB"><span class="id" title="abbreviation">carry_addB</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Bits.spec.operations.html#addB"><span class="id" title="abbreviation">addB</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="computeOverflow"><span class="id" title="definition">computeOverflow</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">arg1</span> <span class="id" title="var">arg2</span> <span class="id" title="var">res</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.spec.html#msb"><span class="id" title="definition">msb</span></a> <a class="idref" href="Bits.spec.operations.html#arg1"><span class="id" title="variable">arg1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Bits.spec.spec.html#msb"><span class="id" title="definition">msb</span></a> <a class="idref" href="Bits.spec.operations.html#arg2"><span class="id" title="variable">arg2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Bits.spec.spec.html#msb"><span class="id" title="definition">msb</span></a> <a class="idref" href="Bits.spec.operations.html#res"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="d83b1bb1b82bdf729861de599687e2e3"><span class="id" title="notation">&quot;</span></a>b +# n" := (<a class="idref" href="Bits.spec.operations.html#addB"><span class="id" title="abbreviation">addB</span></a> <span class="id" title="var">b</span> <a class="idref" href="Bits.spec.spec.html#6d227b35fcc3fe7899272727b8c73bfc"><span class="id" title="notation">#</span></a><span class="id" title="var">n</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="sbbB"><span class="id" title="definition">sbbB</span></a> {<span class="id" title="var">n</span>} <span class="id" title="var">borrow</span> (<span class="id" title="var">arg1</span> <span class="id" title="var">arg2</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">carry</span>, <span class="id" title="var">res</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.operations.html#adcB"><span class="id" title="definition">adcB</span></a> (<span class="id" title="notation">~~</span><a class="idref" href="Bits.spec.operations.html#borrow"><span class="id" title="variable">borrow</span></a>) <a class="idref" href="Bits.spec.operations.html#arg1"><span class="id" title="variable">arg1</span></a> (<a class="idref" href="Bits.spec.operations.html#invB"><span class="id" title="definition">invB</span></a> <a class="idref" href="Bits.spec.operations.html#arg2"><span class="id" title="variable">arg2</span></a>)) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="notation">~~</span><a class="idref" href="Bits.spec.operations.html#carry"><span class="id" title="variable">carry</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Bits.spec.operations.html#res"><span class="id" title="variable">res</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Notation</span> <a name="carry_subB"><span class="id" title="abbreviation">carry_subB</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> := <span class="id" title="notation">(</span><a class="idref" href="Bits.spec.operations.html#sbbB"><span class="id" title="definition">sbbB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span><span class="id" title="notation">).1</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="subB"><span class="id" title="abbreviation">subB</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> := <span class="id" title="notation">(</span><a class="idref" href="Bits.spec.operations.html#sbbB"><span class="id" title="definition">sbbB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span><span class="id" title="notation">).2</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="30f29f01b46ee3848f38336579b60d11"><span class="id" title="notation">&quot;</span></a>@ 'subB' n" := (<span class="id" title="keyword">fun</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Bits.spec.operations.html#subB"><span class="id" title="abbreviation">subB</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">n</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 8, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">fun_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Don't ever simpl <span class="inlinecode"><a class="idref" href="Bits.spec.operations.html#sbbB"><span class="id" title="definition">sbbB</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="Bits.spec.operations.html#sbbB"><span class="id" title="definition">sbbB</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="8919cfe78057c8918d0ec7727671839b"><span class="id" title="notation">&quot;</span></a>b -# n" := (<a class="idref" href="Bits.spec.operations.html#subB"><span class="id" title="abbreviation">subB</span></a> <span class="id" title="var">b</span> <a class="idref" href="Bits.spec.spec.html#6d227b35fcc3fe7899272727b8c73bfc"><span class="id" title="notation">#</span></a><span class="id" title="var">n</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="ltB"><span class="id" title="definition">ltB</span></a> {<span class="id" title="var">n</span>} : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">is</span> <span class="id" title="var">n</span><span class="id" title="notation">.+1</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">q1</span>,<span class="id" title="var">b1</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">q2</span>,<span class="id" title="var">b2</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Bits.spec.operations.html#ltB"><span class="id" title="definition">ltB</span></a> <a class="idref" href="Bits.spec.operations.html#q1"><span class="id" title="variable">q1</span></a> <a class="idref" href="Bits.spec.operations.html#q2"><span class="id" title="variable">q2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#q1"><span class="id" title="variable">q1</span></a> <span class="id" title="notation">==</span> <a class="idref" href="Bits.spec.operations.html#q2"><span class="id" title="variable">q2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><span class="id" title="notation">~~</span><a class="idref" href="Bits.spec.operations.html#b1"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Bits.spec.operations.html#b2"><span class="id" title="variable">b2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="leB"><span class="id" title="definition">leB</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) := <a class="idref" href="Bits.spec.operations.html#ltB"><span class="id" title="definition">ltB</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <span class="id" title="notation">==</span> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="fullmulB"><span class="id" title="definition">fullmulB</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n2"><span class="id" title="variable">n2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> (<a class="idref" href="Bits.spec.operations.html#n1"><span class="id" title="variable">n1</span></a><span class="id" title="notation">+</span><a class="idref" href="Bits.spec.operations.html#n2"><span class="id" title="variable">n2</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#n1"><span class="id" title="variable">n1</span></a> <span class="id" title="var">is</span> <span class="id" title="var">n</span><span class="id" title="notation">.+1</span> <span class="id" title="keyword">return</span> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n2"><span class="id" title="variable">n2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> (<a class="idref" href="Bits.spec.operations.html#n1"><span class="id" title="variable">n1</span></a><span class="id" title="notation">+</span><a class="idref" href="Bits.spec.operations.html#n2"><span class="id" title="variable">n2</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">p</span>,<span class="id" title="var">b</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Bits.spec.operations.html#addB"><span class="id" title="abbreviation">addB</span></a> (<a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#fullmulB"><span class="id" title="definition">fullmulB</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) (<a class="idref" href="Bits.spec.spec.html#zeroExtendAux"><span class="id" title="definition">zeroExtendAux</span></a> <span class="id" title="var">n</span><span class="id" title="notation">.+1</span> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#fullmulB"><span class="id" title="definition">fullmulB</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> ⇒ <a class="idref" href="Bits.spec.spec.html#6d227b35fcc3fe7899272727b8c73bfc"><span class="id" title="notation">#</span></a>0).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="mulB"><span class="id" title="definition">mulB</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Bits.spec.spec.html#low"><span class="id" title="definition">low</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Bits.spec.operations.html#fullmulB"><span class="id" title="definition">fullmulB</span></a> <a class="idref" href="Bits.spec.operations.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="Bits.spec.operations.html#p2"><span class="id" title="variable">p2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="08736ed582e2584ff69d9f934582c882"><span class="id" title="notation">&quot;</span></a>b *# n" := (<a class="idref" href="Bits.spec.operations.html#mulB"><span class="id" title="definition">mulB</span></a> <span class="id" title="var">b</span> <a class="idref" href="Bits.spec.spec.html#6d227b35fcc3fe7899272727b8c73bfc"><span class="id" title="notation">#</span></a><span class="id" title="var">n</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rorB"><span class="id" title="definition">rorB</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span>) : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span> := <span class="id" title="keyword">let</span> (<span class="id" title="var">p</span>, <span class="id" title="var">b</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="keyword">in</span> <a class="idref" href="Bits.spec.spec.html#joinmsb"><span class="id" title="definition">joinmsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rolB"><span class="id" title="definition">rolB</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span>) := <span class="id" title="keyword">let</span> (<span class="id" title="var">b</span>, <span class="id" title="var">p</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitmsb"><span class="id" title="definition">splitmsb</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="keyword">in</span> <a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Bits.spec.operations.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="shrB"><span class="id" title="definition">shrB</span></a> {<span class="id" title="var">n</span>} : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">is</span> <span class="id" title="var">n</span><span class="id" title="notation">.+1</span> <span class="id" title="keyword">then</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒  <a class="idref" href="Bits.spec.spec.html#joinmsb0"><span class="id" title="definition">joinmsb0</span></a> (<a class="idref" href="Bits.spec.spec.html#droplsb"><span class="id" title="definition">droplsb</span></a> (<span class="id" title="var">n</span>:=<a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="keyword">else</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Bits.spec.spec.html#86ba2f07607ac3462c48af8ca4653d64"><span class="id" title="notation">nilB</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="shrBn"><span class="id" title="definition">shrBn</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>)(<span class="id" title="var">k</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> := <span class="id" title="definition">iter</span> <a class="idref" href="Bits.spec.operations.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Bits.spec.operations.html#shrB"><span class="id" title="definition">shrB</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="sarB"><span class="id" title="definition">sarB</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span>) := <a class="idref" href="Bits.spec.spec.html#joinmsb"><span class="id" title="definition">joinmsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.spec.html#msb"><span class="id" title="definition">msb</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Bits.spec.spec.html#droplsb"><span class="id" title="definition">droplsb</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="shlBaux"><span class="id" title="definition">shlBaux</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a><span class="id" title="notation">.+1</span>  := <a class="idref" href="Bits.spec.spec.html#joinlsb"><span class="id" title="definition">joinlsb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="shlB"><span class="id" title="definition">shlB</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>)  := <a class="idref" href="Bits.spec.spec.html#dropmsb"><span class="id" title="definition">dropmsb</span></a> (<a class="idref" href="Bits.spec.operations.html#shlBaux"><span class="id" title="definition">shlBaux</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="shlBn"><span class="id" title="definition">shlBn</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>)(<span class="id" title="var">k</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>): <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> := <span class="id" title="definition">iter</span> <a class="idref" href="Bits.spec.operations.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Bits.spec.operations.html#shlB"><span class="id" title="definition">shlB</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="bIter"><span class="id" title="definition">bIter</span></a> {<span class="id" title="var">n</span> <span class="id" title="var">A</span>} : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.operations.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.operations.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.operations.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">is</span> <span class="id" title="var">m</span><span class="id" title="notation">.+1</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="notation">==</span> <a class="idref" href="Bits.spec.spec.html#zero"><span class="id" title="definition">zero</span></a> <span class="id" title="var">_</span> <span class="id" title="keyword">then</span> <a class="idref" href="Bits.spec.operations.html#x"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">let</span> (<span class="id" title="var">p</span>,<span class="id" title="var">b</span>) := <a class="idref" href="Bits.spec.operations.html#eta_expand"><span class="id" title="abbreviation">eta_expand</span></a> (<a class="idref" href="Bits.spec.spec.html#splitlsb"><span class="id" title="definition">splitlsb</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Bits.spec.operations.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> <span class="id" title="keyword">let</span> <span class="id" title="var">r</span> := <a class="idref" href="Bits.spec.operations.html#bIter"><span class="id" title="definition">bIter</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Bits.spec.operations.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Bits.spec.operations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Bits.spec.operations.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">in</span> <a class="idref" href="Bits.spec.operations.html#bIter"><span class="id" title="definition">bIter</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Bits.spec.operations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Bits.spec.operations.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">let</span> <span class="id" title="var">r</span> := <a class="idref" href="Bits.spec.operations.html#bIter"><span class="id" title="definition">bIter</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Bits.spec.operations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Bits.spec.operations.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="Bits.spec.operations.html#bIter"><span class="id" title="definition">bIter</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Bits.spec.operations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Bits.spec.operations.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="Bits.spec.operations.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="bIterFrom"><span class="id" title="definition">bIterFrom</span></a> {<span class="id" title="var">n</span> <span class="id" title="var">A</span>} (<span class="id" title="var">p</span> <span class="id" title="var">c</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">f</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.operations.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Bits.spec.operations.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">p'</span>,<span class="id" title="var">r</span>) := <a class="idref" href="Bits.spec.operations.html#bIter"><span class="id" title="definition">bIter</span></a> <a class="idref" href="Bits.spec.operations.html#c"><span class="id" title="variable">c</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">pair</span> : <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Bits.spec.operations.html#A"><span class="id" title="variable">A</span></a> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">p</span>,<span class="id" title="var">r</span>) := <a class="idref" href="Bits.spec.operations.html#pair"><span class="id" title="variable">pair</span></a> <span class="id" title="keyword">in</span> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#incB"><span class="id" title="definition">incB</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Bits.spec.operations.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Bits.spec.operations.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="Bits.spec.operations.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">in</span> <a class="idref" href="Bits.spec.operations.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="bIota"><span class="id" title="definition">bIota</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span> <span class="id" title="var">m</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) : <span class="id" title="abbreviation">seq</span> (<a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) := <span class="id" title="definition">rev</span> (<a class="idref" href="Bits.spec.operations.html#bIterFrom"><span class="id" title="definition">bIterFrom</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="Bits.spec.operations.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.5/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="bRange"><span class="id" title="definition">bRange</span></a> {<span class="id" title="var">n</span>} (<span class="id" title="var">p</span> <span class="id" title="var">q</span>: <a class="idref" href="Bits.spec.spec.html#BITS"><span class="id" title="definition">BITS</span></a> <a class="idref" href="Bits.spec.operations.html#n"><span class="id" title="variable">n</span></a>) := <a class="idref" href="Bits.spec.operations.html#bIota"><span class="id" title="definition">bIota</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="Bits.spec.operations.html#subB"><span class="id" title="abbreviation">subB</span></a> <a class="idref" href="Bits.spec.operations.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="Bits.spec.operations.html#p"><span class="id" title="variable">p</span></a>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="BitsNotations"><span class="id" title="module">BitsNotations</span></a>.<br/>
<span class="id" title="keyword">Infix</span> <a name="513702138a3ca472149744ac1c367303"><span class="id" title="notation">&quot;</span></a>&lt;&lt;" := <a class="idref" href="Bits.spec.operations.html#BitsNotations.shlBn"><span class="id" title="definition">shlBn</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a name="9dd5ae1d0e90b82e3eb41c910ae9135b"><span class="id" title="notation">&quot;</span></a>&gt;&gt;" := <a class="idref" href="Bits.spec.operations.html#BitsNotations.shrBn"><span class="id" title="definition">shrBn</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a name="edc43d279c53a777d2e1c302288dcd99"><span class="id" title="notation">&quot;</span></a>|" := <a class="idref" href="Bits.spec.operations.html#BitsNotations.orB"><span class="id" title="definition">orB</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Infix</span> <a name="4649d72e65f4d02fb2a5d4848fc5780a"><span class="id" title="notation">&quot;</span></a>&amp;" := <a class="idref" href="Bits.spec.operations.html#BitsNotations.andB"><span class="id" title="definition">andB</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="e900be91969543c0a15a79f628e93747"><span class="id" title="notation">&quot;</span></a>n + m" := (<a class="idref" href="Bits.spec.operations.html#BitsNotations.addB"><span class="id" title="abbreviation">addB</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="9dea7b434bb98698ec353ab79b30b00f"><span class="id" title="notation">&quot;</span></a>m .+1" := (<a class="idref" href="Bits.spec.operations.html#BitsNotations.incB"><span class="id" title="definition">incB</span></a> <span class="id" title="var">m</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="c67a7365bfb9d49f513d85e3ee6992e2"><span class="id" title="notation">&quot;</span></a>m .-1" := (<a class="idref" href="Bits.spec.operations.html#BitsNotations.decB"><span class="id" title="definition">decB</span></a> <span class="id" title="var">m</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="00ab3cad85c900f17c7e98651d767f00"><span class="id" title="notation">&quot;</span></a>- m" := (<a class="idref" href="Bits.spec.operations.html#BitsNotations.negB"><span class="id" title="definition">negB</span></a> <span class="id" title="var">m</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="a8ea4786826c96c44f55964d59b429a8"><span class="id" title="notation">&quot;</span></a>~ m" := (<a class="idref" href="Bits.spec.operations.html#BitsNotations.invB"><span class="id" title="definition">invB</span></a> <span class="id" title="var">m</span>) : <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Bits.spec.operations.html#BitsNotations"><span class="id" title="module">BitsNotations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">bits_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">bits_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">bits</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>